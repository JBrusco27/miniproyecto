name: 'Miniproyecto workflow'

on:
    push:
      branches: ['main', 'qa', 'production']
  
jobs:
    publish:
        name: 'publish frontend'
        permissions:
            contents: "read"
            id-token: "write"
        runs-on: ubuntu-latest
        steps:
            - name: Deploy
            uses: peaceiris/actions-gh-pages@v3
            if: ${{ github.ref == 'refs/heads/main' }}
            with:
              github_token: ${{ secrets.GITHUB_TOKEN }}
              publish_dir: ./public